{
    "variables":{
        "accesskey":"",
        "secretkey":"",
        "sourceimage":"ami-0efb2d0b5d2f37e6b",
        "sshusername":"ubuntu",
        "currentregion":"us-west-1",
        "aminame":"mypacker"
    },

   "Builders":[{
       "type":"amazon-ebs",
       "access_key":"{{user `accesskey`}}",
       "secret_key":"{{user `secretkey`}}",
       "instance_type":"t2.micro",
       "source_ami":"{{user `sourceimage`}}",
       "ssh_username":"{{user `sshusername`}}",
       "region": "{{user `currentregion`}}",
       "ami_name":"{{user `aminame`}}"
   }],

   "provisioners":[
       {
        "type": "shell",
        "script": "./script.sh"
   },
   {
       "type": "ansible-local",
       "playbook_file": "./playbook.yml"
   }
   ]
}